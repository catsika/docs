---
title: Create License Key
---

Generate a new license key for a specific product (productId). You can optionally define activation limits (maxActivations), set an expiration date (expiryDate), assign it to an existing customer (customerId), or create and assign it to a new customer (newCustomer).

## Endpoint

```http
POST /create-key
```

Base URL: https://api.keymint.dev

## Request

Send a POST request with a JSON body and Content-Type: application/json. Include the accessToken as a Bearer token in the Authorization header.

### Headers

| Header | Value | Required | Description |
| --- | --- | --- | --- |
| Authorization | `Bearer <accessToken>` | Yes | API access token for authentication. |

### Body Parameters

| Parameter | Type | Required | Description |
| --- | --- | --- | --- |
| productId | string | Yes | Unique product identifier (e.g., prod_...). |
| maxActivations | string | No | Maximum number of activations allowed (e.g., "5"). Omit or set to null for unlimited. |
| expiryDate | string | No | Expiration date in ISO 8601 format (e.g., "2024-12-31T23:59:59Z"). Defaults to 1 month from creation if omitted. |
| customerId | string | No | ID of an existing customer to assign the key to (e.g., cust_...). Cannot be used with newCustomer. |
| newCustomer | object | No | Object containing name (string, required) and email (string, optional) to create a new customer. Cannot be used with customerId. |
| format | object | No | Object to customize the license key format. See format parameters below. |

#### Format Parameters

When using the `format` parameter, you can customize how the license key is generated:

| Parameter | Type | Required | Description |
| --- | --- | --- | --- |
| sections | number | No | Number of sections in the key (1-10). Default: 4. |
| sectionLength | number | No | Number of characters per section (1-32). Default: 5. |
| separator | string | No | Character(s) used to separate sections (max 3 chars). Default: "-". |
| charset | string | No | Characters to use for key generation (2-100 chars, no whitespace). Default: "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789". |
| prefix | string | No | String to prepend to the key (max 16 chars). |
| suffix | string | No | String to append to the key (max 16 chars). |
| case | string | No | Case formatting: "upper", "lower", or "mixed". Default: "upper". |

### Example Requests

```http title="Simple key"
POST /create-key HTTP/1.1
Host: api.keymint.dev
Authorization: Bearer at_verylongaccesstokenstringgeneratedforyourapplication12345678
Content-Type: application/json

{
  "productId": "your_product_id_123",
  "maxActivations": "3",
  "expiryDate": "2025-06-30T23:59:59Z"
}
```

```http title="Assign to new customer"
POST /create-key HTTP/1.1
Host: api.keymint.dev
Authorization: Bearer at_verylongaccesstokenstringgeneratedforyourapplication12345678
Content-Type: application/json

{
  "productId": "your_product_id_123",
  "newCustomer": {
    "name": "John Doe",
    "email": "john.doe.new@example.com"
  }
}
```

```http title="Assign to existing customer"
POST /create-key HTTP/1.1
Host: api.keymint.dev
Authorization: Bearer at_verylongaccesstokenstringgeneratedforyourapplication12345678
Content-Type: application/json

{
  "productId": "your_product_id_123",
  "customerId": "cust_abc123"
}
```

```http title="Custom key format"
POST /create-key HTTP/1.1
Host: api.keymint.dev
Authorization: Bearer at_verylongaccesstokenstringgeneratedforyourapplication12345678
Content-Type: application/json

{
  "productId": "your_product_id_123",
  "format": {
    "sections": 4,
    "sectionLength": 5,
    "separator": "-",
    "charset": "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",
    "prefix": "DEMO",
    "case": "upper"
  }
}
```

```http title="Advanced custom format"
POST /create-key HTTP/1.1
Host: api.keymint.dev
Authorization: Bearer at_verylongaccesstokenstringgeneratedforyourapplication12345678
Content-Type: application/json

{
  "productId": "your_product_id_123",
  "maxActivations": "10",
  "format": {
    "sections": 3,
    "sectionLength": 8,
    "separator": ".",
    "charset": "0123456789ABCDEF",
    "prefix": "HEX",
    "suffix": "END",
    "case": "upper"
  },
  "newCustomer": {
    "name": "Jane Smith",
    "email": "jane.smith@example.com"
  }
}
```

## Responses

### 200 OK

```json
{
  "code": 0,
  "key": "YQ4PX-YK5PF-M77RU-H6JT0"
}
```

**Example responses for different formats:**

- Default format: `"YQ4PX-YK5PF-M77RU-H6JT0"`
- Custom format (hex): `"0B4ADFD8-8C47ECD0"`
- With prefix: `"DEMO-ABCDE-FGHIJ-KLMNO-PQRST"`
- Advanced format: `"HEX12345678.ABCDEF12.34567890END"`

### Errors

| Status | Code | Description | Example |
| --- | --- | --- | --- |
| 400 | 1 | Missing required parameters (productId) or invalid format (e.g., expiryDate). | `{"message": "Missing required params", "code": 1}` |
| 401 | 1 | Invalid or missing Authorization header. | `{"message": "Invalid access token", "code": 1}` |
| 404 | 1 | productId not found or inactive. | `{"message": "Product not found or inactive", "code": 1}` |
| 404 | 2 | customerId provided, but the customer was not found. | `{"message": "Customer with ID cust_... not found", "code": 2}` |
| 409 | 2 | newCustomer provided with an email that already exists. | `{"message": "CONFLICT: Customer email ... already exists.", "code": 2}` |
| 500 | 1 | Internal server error (e.g., database insertion failure, unexpected issue). | `{"message": "Server error", "code": 1}` |
